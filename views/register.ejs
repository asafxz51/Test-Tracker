<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <title>Register - Test Tracker</title>
   <link rel="stylesheet" href="/css/styles.css">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <style>
      /* This ensures your message styles are present */
      .message {
         padding: 10px;
         border-radius: 5px;
         margin-bottom: 15px;
         text-align: center;
         color: #fff;
      }

      .error-message {
         background-color: #dc3545;
         /* Red */
      }

      .success-message {
         background-color: #28a745;
         /* Green */
      }
   </style>
</head>

<body>
   <div class="login-container">
      <h1>Create Account</h1>

      <!-- 
            THIS IS THE CORRECT, SAFE WAY TO DISPLAY MESSAGES.
            It checks if the variables exist before trying to use them.
        -->
      <% if (locals.error_msg && error_msg.length> 0) { %>
         <div class="message error-message">
            <%= error_msg %>
         </div>
         <% } %>
            <% if (locals.success_msg && success_msg.length> 0) { %>
               <div class="message success-message">
                  <%= success_msg %>
               </div>
               <% } %>

                  <form action="/register" method="POST" onsubmit="this.querySelector('button').disabled = true;">
                     <input type="text" name="username" placeholder="Username" required>
                     <input type="password" name="password" placeholder="Password (min. 6 characters)" required>
                     <button type="submit">Register</button>
                  </form>

                  <div style="margin-top: 20px;">
                     <p>Already have an account? <a href="/login">Login here</a></p>
                  </div>
   </div>

</body>

</html>